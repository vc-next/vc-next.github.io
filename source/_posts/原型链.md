---
uuid: b2523790-4ac8-11ec-a561-1f759942c09b
title: 原型链
date: 2021-11-21 20:43:58
tags:
---

### prototype

proto n. 原型；样机；典型
prototype n. （新型汽车、机器等的）原型，雏形；

### 函数 Function

一般函数

```js
function test(){}
```

匿名函数

```js
window.onload = function(){}
```

动态函数

```js
const minus = new Function('a,b', 'return a-b')
minus(3, 2) //1
```

### 对象 Object

一切起源都是 Object，一切归宿都是 Object.prototype

```js
new Object() 等同于 {}
new Object(null) === null
new Object(undefined) === undefined
new Object(123) 等同于 new Number(123)
new Object('hello') 等同于  new String('123')
new Object(String) === String
new Object(Date) === Date
new Object(Math) === Math
new Object(Function) === Function
```

### 构造函数

```js
new Date
new RegExp
new String
new Number
new Array
new Object
new Boolean
new Function
new Error
// -------------------------
new class{}
new function(){}
new Symbol // Uncaught TypeError: Symbol is not a constructor
new Math // VM2939:1 Uncaught TypeError: Math is not a constructor
```

### 关系图

instance
class/function
object.prototype

字面量 vs 对象实例

```js
// String
const str = '123'
const trs = new String('123')
typeof str === 'string'
typeof trs === 'object'
str instanceof String === false
trs instanceof String === true
str.__proto__ === String.prototype
trs.__proto__ === String.prototype
// Function
const fuc = new Function('a,b', 'return a+b')
const ucf = function(){}
const cuf = new ucf()
fuc.__proto__ === Function.prototype
ucf.__proto__ === Function.prototype
cuf.__proto__ === ucf.prototype
ucf.prototype.__proto__ === Function.prototype
typeof fuc === 'function'
typeof ucf === 'function'
typeof cuf === 'object'

class Funcs {}
typeof Funcs === 'function'
typeof new Funcs === 'object'
Funcs.__proto__ === Function.prototype

// Object
const conf = {}
typeof conf === 'object'
conf instanceof Object === true
conf.__proto__ === Object.prototype
Object.prototype.__proto__ === null
```

字面量是一种特殊的「对象」，也是有「构造函数」的，弄清楚实例和构造函数也就弄清楚了「原型链」。(同父异母的兄弟姐妹)
