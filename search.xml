<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å­—ç¬¦ç¼–ç </title>
      <link href="/60387930-706e-11ec-b266-257478f5c4cf/"/>
      <url>/60387930-706e-11ec-b266-257478f5c4cf/</url>
      
        <content type="html"><![CDATA[<p>js <a href="https://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html">encode &amp; decode</a></p><ol><li> form enctype</li></ol><ul><li>  application/x-www-form-urlencoded åœ¨å‘é€å‰ç¼–ç æ‰€æœ‰å­—ç¬¦ï¼ˆé»˜è®¤ï¼‰</li><li>  multipart/form-data ä¸å¯¹å­—ç¬¦ç¼–ç ï¼Œåœ¨ä½¿ç”¨åŒ…å«æ–‡ä»¶ä¸Šä¼ æ§ä»¶çš„è¡¨å•æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¯¥å€¼ã€‚</li><li>  text/plain ç©ºæ ¼è½¬æ¢ä¸º â€œ+â€ åŠ å·ï¼Œä½†ä¸å¯¹ç‰¹æ®Šå­—ç¬¦ç¼–ç ã€‚</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;form_action.asp&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;text/plain&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>First name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;fname&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Last name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;lname&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li> <a href="https://tool.oschina.net/commons?type=4">ascii</a></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;AB&#x27;</span>.<span class="title function_">charCodeAt</span>(<span class="number">0</span>) <span class="comment">// 65</span></span><br><span class="line"><span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(<span class="number">65</span>) <span class="comment">// &#x27;A&#x27;</span></span><br></pre></td></tr></table></figure><ol start="3"><li> <a href="http://ilucas.me/2015/08/25/es6-unicode-regex/">unicode</a></li></ol><p><img src="./imgs/bg2014121104.png"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ˜„&#x27;</span>.<span class="property">length</span>); <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğ’³&#x27;</span>.<span class="property">length</span>); <span class="comment">// 2</span></span><br><span class="line"><span class="comment">// Note: `a` is U+0061 LATIN SMALL LETTER A, a BMP symbol.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/\u&#123;61&#125;/u</span>.<span class="title function_">test</span>(<span class="string">&#x27;a&#x27;</span>));</span><br><span class="line"><span class="comment">// â†’ true</span></span><br><span class="line"><span class="comment">// [Note: `ğŒ†` is U+1D306 TETRAGRAM FOR CENTRE, an astral symbol](http://ilucas.me/2015/08/25/es6-unicode-regex/).</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/\u&#123;1D306&#125;/u</span>.<span class="title function_">test</span>(<span class="string">&#x27;ğŒ†&#x27;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/\u&#123;1D306&#125;/u</span>.<span class="title function_">test</span>(<span class="string">`\u&#123;1D306&#125;`</span>)); è¿™æ ·å°±å¯ä»¥æ‰“å°è¿™ä¸ªunicodeå­—ç¬¦äº†</span><br><span class="line"><span class="comment">// â†’ true</span></span><br></pre></td></tr></table></figure><ol start="4"><li> utf-8</li></ol><ol start="5"><li> Base64</li></ol><ul><li>  atob() å‡½æ•°èƒ½å¤Ÿè§£ç é€šè¿‡base-64ç¼–ç çš„å­—ç¬¦ä¸²æ•°æ®ã€‚</li><li>  btoa() å‡½æ•°èƒ½å¤Ÿä»äºŒè¿›åˆ¶æ•°æ®â€œå­—ç¬¦ä¸²â€åˆ›å»ºä¸€ä¸ªbase-64ç¼–ç çš„ASCIIå­—ç¬¦ä¸²ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">btoa</span>(<span class="string">&#x27;name=1234&#x27;</span>) <span class="comment">// &#x27;bmFtZT0xMjM0&#x27;</span></span><br><span class="line"><span class="title function_">atob</span>(<span class="string">&#x27;bmFtZT0xMjMzNA==&#x27;</span>) <span class="comment">// &#x27;name=12334&#x27;</span></span><br></pre></td></tr></table></figure><ol start="6"><li>Data URLs<blockquote><p>data:[<mediatype>][;base64],<data></p></blockquote></li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:text/plain;base64,SGVsbG8sIFdvcmxkIQ==</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>äº‹ä»¶å¾ªç¯</title>
      <link href="/9ba4ea40-6096-11ec-8aec-5da075fe55e4/"/>
      <url>/9ba4ea40-6096-11ec-8aec-5da075fe55e4/</url>
      
        <content type="html"><![CDATA[<h3 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop"></a><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop-processing-model">Event Loop</a></h3><h4 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a><a href="https://cloud.tencent.com/developer/article/1533889">æµè§ˆå™¨</a></h4><p>åœ¨æµè§ˆå™¨ç«¯å…³äºäº‹ä»¶å¾ªç¯æœ‰ä¸¤ä¸ªæ¦‚å¿µï¼šä¸€ä¸ªæ˜¯ Macro Task ä¹Ÿç§°ä½œ Task Queueï¼Œä¸€ä¸ªæ˜¯ Micro Taskã€‚</p><p>Macrotasks åŒ…å«äº†è§£æ HTMLã€ç”Ÿæˆ DOMã€æ‰§è¡Œä¸»çº¿ç¨‹ JS ä»£ç å’Œå…¶ä»–äº‹ä»¶å¦‚ é¡µé¢åŠ è½½ã€è¾“å…¥ã€ç½‘ç»œäº‹ä»¶ã€å®šæ—¶å™¨äº‹ä»¶ç­‰ã€‚ä»æµè§ˆå™¨çš„è§’åº¦ï¼ŒMacrotask ä»£è¡¨çš„æ˜¯ä¸€äº›ç¦»æ•£çš„ç‹¬ç«‹çš„å·¥ä½œã€‚</p><p>å¸¸è§åº”ç”¨<br>setTimeout, setInterval, setImmediate, requestAnimationFrame, I/O, UI rendering</p><p>Microtasks åˆ™æ˜¯ä¸ºäº†å®Œæˆä¸€äº›æ›´æ–°åº”ç”¨ç¨‹åºçŠ¶æ€çš„è¾ƒå°çš„ä»»åŠ¡ï¼Œå¦‚å¤„ç† Promise çš„å›è°ƒå’Œ DOM çš„ä¿®æ”¹ï¼Œä»¥ä¾¿è®©è¿™äº›ä»»åŠ¡åœ¨æµè§ˆå™¨é‡æ–°æ¸²æŸ“ä¹‹å‰æ‰§è¡Œã€‚Microtask åº”è¯¥ä»¥å¼‚æ­¥çš„æ–¹å¼å°½å¿«æ‰§è¡Œï¼Œæ‰€ä»¥å®ƒä»¬çš„å¼€é”€æ¯” Macrotask è¦å°ï¼Œå¹¶ä¸”å¯ä»¥ä½¿æˆ‘ä»¬åœ¨ UI é‡æ–°æ¸²æŸ“ä¹‹å‰æ‰§è¡Œï¼Œé¿å…äº†ä¸å¿…è¦çš„ UI æ¸²æŸ“ã€‚</p><p>å¸¸è§åº”ç”¨<br>process.nextTick, Promises, Object.observe, MutationObserver</p><p><a href="https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/">code show</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>()</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// script start</span></span><br><span class="line"><span class="comment">// script end</span></span><br><span class="line"><span class="comment">// promise1</span></span><br><span class="line"><span class="comment">// promise2</span></span><br><span class="line"><span class="comment">// setTimeout</span></span><br></pre></td></tr></table></figure><p>try it</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;start&#x27;</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>)&#125;).<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>)&#125;)</span><br><span class="line"><span class="keyword">const</span> timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setInterval&#x27;</span>)</span><br><span class="line">  <span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise 5&#x27;</span>))</span><br><span class="line">  <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise3&#x27;</span>)&#125;).<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise4&#x27;</span>)&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line"><span class="comment">// start</span></span><br><span class="line"><span class="comment">// end</span></span><br><span class="line"><span class="comment">// promise1</span></span><br><span class="line"><span class="comment">// promise3</span></span><br><span class="line"><span class="comment">// promise2</span></span><br><span class="line"><span class="comment">// promise4</span></span><br><span class="line"><span class="comment">// setTimeout</span></span><br><span class="line"><span class="comment">// setInterval</span></span><br><span class="line"><span class="comment">// promise 5</span></span><br></pre></td></tr></table></figure><h4 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h4><p>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”Œâ”€&gt;â”‚           timers          â”‚<br>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”‚  â”‚     pending callbacks     â”‚<br>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”‚  â”‚       idle, prepare       â”‚<br>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   incoming:   â”‚<br>â”‚  â”‚           poll            â”‚&lt;â”€â”€â”€â”€â”€â”¤  connections, â”‚<br>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   data, etc.  â”‚<br>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>â”‚  â”‚           check           â”‚<br>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â””â”€â”€â”¤      close callbacks      â”‚<br>   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</p><p><img src="./imgs/node-loop.awebp"></p><p>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”Œâ”€&gt;â”‚           timers          â”‚<br>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>â”‚           nextTickQueue<br>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”‚  â”‚     pending callbacks     â”‚<br>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>â”‚           nextTickQueue<br>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>|  |     idle, prepare         â”‚<br>|  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>nextTickQueue     nextTickQueue<br>|  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>|  â”‚           poll            â”‚<br>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>â”‚           nextTickQueue<br>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”‚  â”‚           check           â”‚<br>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>â”‚           nextTickQueue<br>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â””â”€â”€â”¤       close callbacks     â”‚<br>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;start&#x27;</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setTimeout&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="title function_">setImmediate</span>(<span class="function">()=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setImmediate&#x27;</span>)&#125;)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>)&#125;).<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>)&#125;)</span><br><span class="line"><span class="keyword">const</span> timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setInterval&#x27;</span>)</span><br><span class="line">  <span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise5&#x27;</span>))</span><br><span class="line">  <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line">process.<span class="title function_">nextTick</span>(<span class="function">()=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;nextTick&#x27;</span>)&#125;)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise3&#x27;</span>)&#125;).<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise4&#x27;</span>)&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// start</span></span><br><span class="line"><span class="comment">// end</span></span><br><span class="line"><span class="comment">// promise1</span></span><br><span class="line"><span class="comment">// promise3</span></span><br><span class="line"><span class="comment">// promise2</span></span><br><span class="line"><span class="comment">// promise4</span></span><br><span class="line"><span class="comment">// setImmediate æ¯” setTimeout æ—©</span></span><br><span class="line"><span class="comment">// setTimeout</span></span><br><span class="line"><span class="comment">// setInterval</span></span><br><span class="line"><span class="comment">// promise5</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®è¯·æ±‚</title>
      <link href="/e6dad790-6073-11ec-8062-8dea7659a7ab/"/>
      <url>/e6dad790-6073-11ec-8062-8dea7659a7ab/</url>
      
        <content type="html"><![CDATA[<ol><li> <a href="https://segmentfault.com/a/1190000004322487">new XMLHttpRequest</a></li></ol><blockquote><p>çµæ´»çš„ http è¯·æ±‚æ„é€ å™¨</p></blockquote><ul><li>  status</li><li>  error</li><li>  timeout</li><li>  formData</li><li>  request/response</li><li>  sync/async</li></ul><p>æœ€åŸºæœ¬çš„ HTTP è¯·æ±‚ä»£ç ç‰‡æ®µ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">xhr.<span class="property">timeout</span> = <span class="number">1000</span></span><br><span class="line">xhr.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, <span class="keyword">function</span> <span class="title function_">onload</span>(<span class="params"></span>)&#123;&#125;)</span><br><span class="line">xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;error&#x27;</span>,<span class="keyword">function</span> <span class="title function_">onerror</span>(<span class="params"></span>)&#123;&#125;)</span><br><span class="line">xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;timeout&#x27;</span>,<span class="keyword">function</span> <span class="title function_">ontimeout</span>(<span class="params"></span>)&#123;&#125;)</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;https://www.example.org/example.txt&quot;</span>,<span class="literal">true</span>)</span><br><span class="line">xhr.<span class="title function_">send</span>()</span><br></pre></td></tr></table></figure><p>ç»“åˆ <a href="https://zh.javascript.info/formdata">formData</a> å‘é€æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"><span class="keyword">const</span> data = <span class="keyword">new</span> <span class="title class_">FormData</span>()</span><br><span class="line">data.<span class="title function_">set</span>(<span class="string">&#x27;id&#x27;</span>,<span class="string">&#x27;10001&#x27;</span>)</span><br><span class="line">data.<span class="title function_">append</span>(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;hello world&#x27;</span>)</span><br><span class="line">data.<span class="title function_">append</span>(<span class="string">&#x27;addr&#x27;</span>,<span class="string">&#x27;test world&#x27;</span>)</span><br><span class="line">xhr.<span class="property">timeout</span> = <span class="number">1000</span></span><br><span class="line">xhr.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, <span class="keyword">function</span> <span class="title function_">onload</span>(<span class="params"></span>)&#123;&#125;)</span><br><span class="line">xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;error&#x27;</span>,<span class="keyword">function</span> <span class="title function_">onerror</span>(<span class="params"></span>)&#123;&#125;)</span><br><span class="line">xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;timeout&#x27;</span>,<span class="keyword">function</span> <span class="title function_">ontimeout</span>(<span class="params"></span>)&#123;&#125;)</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&quot;POST&quot;</span>, <span class="string">&quot;https://www.example.org/example.txt&quot;</span>,<span class="literal">true</span>)</span><br><span class="line">xhr.<span class="title function_">send</span>(data)</span><br></pre></td></tr></table></figure><ul><li>  åœ¨å“ªå¯ä»¥çœ‹åˆ° formData æ•°æ®ï¼Œåœ¨ networkçš„ å¯ä»¥æŸ¥çœ‹è¯·æ±‚æœ‰ä¸ª Content-Type: multipart/form-data; boundary=â€”-WebKitFormBoundary4QTU9gLJlwuu2vTnï¼Œç„¶ååœ¨ PayLoad å¯ä»¥çœ‹åˆ°å¯¹åº”çš„ formData æ•°æ®</li><li>  formData å¿…é¡»æ˜¯ POST æ–¹å¼</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">------WebKitFormBoundary4QTU9gLJlwuu2vTn</span><br><span class="line">Content-Disposition: form-data; name=&quot;id&quot;</span><br><span class="line"></span><br><span class="line">10001</span><br><span class="line">------WebKitFormBoundary4QTU9gLJlwuu2vTn</span><br><span class="line">Content-Disposition: form-data; name=&quot;name&quot;</span><br><span class="line"></span><br><span class="line">hello world</span><br><span class="line">------WebKitFormBoundary4QTU9gLJlwuu2vTn</span><br><span class="line">Content-Disposition: form-data; name=&quot;addr&quot;</span><br><span class="line"></span><br><span class="line">test world</span><br><span class="line">------WebKitFormBoundary4QTU9gLJlwuu2vTn--</span><br></pre></td></tr></table></figure><p>Node Koa framework çš„ä¸­é—´ä»¶ @koa/multer æ”¯æŒ formData è§£æ</p><ol start="2"><li> <a href="https://zh.javascript.info/fetch">Fetch</a></li></ol><p>headerã€responseã€request</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;http://example.com/movies.json&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> response.<span class="title function_">json</span>();</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">myJson</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(myJson);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><ul><li>  header</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> content = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> myHeaders = <span class="keyword">new</span> <span class="title class_">Headers</span>();</span><br><span class="line">myHeaders.<span class="title function_">append</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/plain&#x27;</span>);</span><br><span class="line">myHeaders.<span class="title function_">append</span>(<span class="string">&#x27;Content-Length&#x27;</span>, content.<span class="property">length</span>.<span class="title function_">toString</span>());</span><br><span class="line">myHeaders.<span class="title function_">append</span>(<span class="string">&#x27;X-Custom-Header&#x27;</span>, <span class="string">&#x27;ProcessThisImmediately&#x27;</span>);</span><br></pre></td></tr></table></figure><ul><li>  request</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myHeaders = <span class="keyword">new</span> <span class="title class_">Headers</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myRequest = <span class="keyword">new</span> <span class="title class_">Request</span>(<span class="string">&#x27;flowers.jpg&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: myHeaders,</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;cors&#x27;</span>,</span><br><span class="line">  <span class="attr">cache</span>: <span class="string">&#x27;default&#x27;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">fetch</span>(myRequest)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">blob</span>())</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">myBlob</span> =&gt;</span> &#123;</span><br><span class="line">    myImage.<span class="property">src</span> = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(myBlob);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><ul><li>  response</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myBody = <span class="keyword">new</span> <span class="title class_">Blob</span>();</span><br><span class="line"></span><br><span class="line"><span class="title function_">addEventListener</span>(<span class="string">&#x27;fetch&#x27;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ServiceWorker intercepting a fetch</span></span><br><span class="line">  event.<span class="title function_">respondWith</span>(</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Response</span>(myBody, &#123;</span><br><span class="line">      <span class="attr">headers</span>: &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/plain&#x27;</span> &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>  fetchçš„å–æ¶ˆæ¯”è¾ƒéšè”½ï¼Œä½†å¯ä»¥å€ŸåŠ© <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AbortController/abort">AbortController.abort()</a></li><li>  Response æä¾›äº†å¤šç§åŸºäº promise çš„æ–¹æ³•ï¼Œæ¥ä»¥ä¸åŒçš„æ ¼å¼è®¿é—® body,æˆ‘ä»¬åªèƒ½é€‰æ‹©ä¸€ç§è¯»å– body çš„æ–¹æ³•</li></ul><ol start="3"><li> new Image</li></ol><ul><li>  å•ç‚¹å‘é€</li><li>  ä¸éœ€è¦æŒ‚è½½ DOM</li><li>  å›è°ƒç®€å•</li><li>  async</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> logger = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">logger.<span class="property">src</span> = <span class="string">&#x27;https://abc.com/trace?name=id&amp;time=2022&#x27;</span></span><br><span class="line">logger.<span class="property">onload</span> = <span class="function"><span class="params">e</span> =&gt;</span>&#123;&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li> JSONP</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      receive <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;qwerty&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">callfun</span>(<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;qwerty&#x27;</span>).<span class="property">innerHTML</span> = data;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://127.0.0.1:10010/js?call=callfun&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Controller</span> = <span class="built_in">require</span>(<span class="string">&#x27;egg&#x27;</span>).<span class="property">Controller</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">JsonpController</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Controller</span> &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">index</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; ctx &#125; = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ctx.<span class="property">query</span>);</span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&#x27;content-type&#x27;</span>, <span class="string">&#x27;text/javascript&#x27;</span>);</span><br><span class="line">    ctx.<span class="property">body</span> = ctx.<span class="property">query</span>.<span class="property">call</span> + <span class="string">&#x27;(&quot;nihao&quot;)&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li> window.location.href</li><li> window.open</li><li> form.submit</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>äº‹ä»¶å¤„ç†</title>
      <link href="/7873c000-6073-11ec-b012-49e6e10048ce/"/>
      <url>/7873c000-6073-11ec-b012-49e6e10048ce/</url>
      
        <content type="html"><![CDATA[<p>JavaScriptæ˜¯è¿è¡Œåœ¨æµè§ˆå™¨ç«¯çš„ä¸”æ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œä¸ºäº†ä¿éšœDOMæ¸²æŸ“å’Œç”¨æˆ·æ“ä½œä¸ç›¸äº’é˜»å¡ï¼Œæµè§ˆå™¨å†…æ ¸è®¾è®¡äº†äº‹ä»¶æœºåˆ¶ã€‚æ¯”å¦‚ç”¨æˆ·ç‚¹å‡»äº†æŒ‰é’®ã€å¡«å†™äº†è¡¨å•å¤šæ˜¯å¯ä»¥é€šè¿‡äº‹ä»¶ç›‘å¬åˆ°å¹¶å¤„ç†çš„ã€‚å½“ç„¶è¿™äº›äº‹ä»¶æœ‰ä¸€äº›æ˜¯æµè§ˆå™¨å†…ç½®çš„å¤§å®¶å¯ä»¥å¼€ç®±å³ç”¨ï¼Œä¹Ÿå…è®¸å¼€å‘è€…è‡ªå®šä¹‰äº‹ä»¶ã€‚</p><h3 id="EventTarget-æ¥å£"><a href="#EventTarget-æ¥å£" class="headerlink" title="EventTarget æ¥å£"></a>EventTarget æ¥å£</h3><p>DOM èŠ‚ç‚¹çš„äº‹ä»¶çš„ç›‘å¬å’Œè§¦å‘éƒ½å®šä¹‰åœ¨eventTargetæ¥å£ã€‚å¾ˆå¤šå¯¹è±¡éƒ½å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œè¿˜æœ‰ä¸€äº›æµè§ˆå™¨å†…ç½®å¯¹è±¡å¦‚ XMLHttpRequest ç­‰ä¹Ÿå®ç°äº†è¯¥æ¥å£ï¼Œè¯¥æ¥å£ä¸»è¦æä¾›ä¸‰ä¸ªå®ä¾‹æ–¹æ³•ã€‚</p><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>addEventListener</td><td>ç»‘å®šäº‹ä»¶çš„ç›‘å¬å‡½æ•°</td></tr><tr><td>removeEventListener</td><td>ç§»é™¤äº‹ä»¶çš„ç›‘å¬å‡½æ•°</td></tr><tr><td>dispatchEvent</td><td>è§¦å‘äº‹ä»¶</td></tr></tbody></table>    <iframe name="event" module="hexo-eb7d3" frameborder="0" width="100%"></iframe>    <script type="text/javascript" id="hexo-eb7d3">      (function(){        let ifr = document.querySelector('iframe[module=hexo-eb7d3]')        const url = URL.createObjectURL(new Blob([unescape("%3C%21DOCTYPE%20html%3E%3Chtml%20lang%3D%22en%22%20dir%3D%22ltr%22%3E%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22utf-8%22%3E%0A%20%20%20%20%3Ctitle%3E%u4E8B%u4EF6%u5904%u7406%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Csection%20class%3D%22module%20event%22%3E%0A%20%20%20%20%20%20%3Cbutton%20type%3D%22button%22%20name%3D%22button%22%3E%u70B9%u51FB%3C/button%3E%0A%20%20%20%20%20%20%3Cscript%20type%3D%22text/javascript%22%3E%0A%20%20%20%20%20%20%20%20const%20btn%20%3D%20document.querySelector%28%22button%5Bname%3Dbutton%5D%22%29%0A%20%20%20%20%20%20%20%20btn.addEventListener%28%27click%27%2C%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.log%28e.timeStamp%29%0A%20%20%20%20%20%20%20%20%7D%2C%20false%29%0A%20%20%20%20%20%20%3C/script%3E%0A%20%20%20%20%3C/section%3E%0A%20%20%20%20%0A%20%20%0A%3C/body%3E%3C/html%3E")], {          type: 'text/html'        }))        ifr.src = url        ifr.onload = function(){          ifr.height = ifr.contentDocument.documentElement.offsetHeight        }        ifr.onresize = function(){          ifr.height = ifr.contentDocument.documentElement.offsetHeight        }        const shell = document.querySelector('#hexo-eb7d3')        shell.parentNode.removeChild(shell)      })();    </script><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handle</span> = e =&gt; &#123;<span class="attr">s</span>:<span class="number">1</span>&#125;</span><br><span class="line">dom.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,handle,<span class="literal">false</span>)</span><br><span class="line">dom.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>,handle,<span class="literal">false</span>)</span><br><span class="line">dom.<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">Event</span>(<span class="string">&#x27;click&#x27;</span>))</span><br></pre></td></tr></table></figure>    <iframe name="input" module="hexo-a6c2d" frameborder="0" width="100%"></iframe>    <script type="text/javascript" id="hexo-a6c2d">      (function(){        let ifr = document.querySelector('iframe[module=hexo-a6c2d]')        const url = URL.createObjectURL(new Blob([unescape("%3C%21DOCTYPE%20html%3E%3Chtml%20lang%3D%22en%22%20dir%3D%22ltr%22%3E%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22utf-8%22%3E%0A%20%20%20%20%3Ctitle%3E%u4E8B%u4EF6%u5904%u7406%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%0A%20%20%20%20%3Csection%20class%3D%22module%20input%22%3E%0A%20%20%20%20%20%20%3Cinput%20type%3D%22input%22%20name%3D%22input%22%20placeholder%3D%22%u7528%u6237%u540D%22%20autocomplete%3D%22off%22%3E%0A%20%20%20%20%3C/section%3E%0A%20%20%0A%3C/body%3E%3C/html%3E")], {          type: 'text/html'        }))        ifr.src = url        ifr.onload = function(){          ifr.height = ifr.contentDocument.documentElement.offsetHeight        }        ifr.onresize = function(){          ifr.height = ifr.contentDocument.documentElement.offsetHeight        }        const shell = document.querySelector('#hexo-a6c2d')        shell.parentNode.removeChild(shell)      })();    </script><p>åœ¨æ­¤ï¼Œå¤§å®¶å…ˆç†Ÿæ‚‰è¿™ä¸‰ä¸ªæ¥å£çš„ä½¿ç”¨æ–¹æ³•ï¼Œåç»­æˆ‘ä»¬ä¼šæä¾›ä¸€äº›ä»£ç ç¤ºä¾‹ã€‚</p><h3 id="å†…ç½®äº‹ä»¶"><a href="#å†…ç½®äº‹ä»¶" class="headerlink" title="å†…ç½®äº‹ä»¶"></a>å†…ç½®äº‹ä»¶</h3><p>äº‹ä»¶ä¹Ÿç§°ä½œ DOM äº‹ä»¶ï¼Œå®ƒåŒ…æ‹¬é¼ æ ‡äº‹ä»¶ã€é”®ç›˜äº‹ä»¶ã€æ¡†æ¶/å¯¹è±¡ï¼ˆFrame/Objectï¼‰äº‹ä»¶ã€è¡¨å•äº‹ä»¶ã€å‰ªè´´æ¿äº‹ä»¶ã€æ‰“å°äº‹ä»¶ã€æ‹–åŠ¨äº‹ä»¶ã€å¤šåª’ä½“ï¼ˆMediaï¼‰äº‹ä»¶ã€åŠ¨ç”»äº‹ä»¶ã€è¿‡æ¸¡äº‹ä»¶ç­‰ã€‚</p><p><img src="https://tse4-mm.cn.bing.net/th/id/OIP-C.1l4OcMdQR8o2vGTSoDt-QAHaFS?pid=ImgDet&rs=1"></p><blockquote><p>åœ¨ HTML é‡Œå¯ä»¥ç»“åˆ on+event æ¥ç»‘å®šäº‹ä»¶ï¼Œæµè§ˆå™¨æä¾›äº†å¾ˆå¤šå†…ç½®çš„äº‹ä»¶</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;(event)=&gt;&#123;console.log(event)&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>    <iframe name="event" module="hexo-e4748" frameborder="0" width="100%"></iframe>    <script type="text/javascript" id="hexo-e4748">      (function(){        let ifr = document.querySelector('iframe[module=hexo-e4748]')        const url = URL.createObjectURL(new Blob([unescape("%3C%21DOCTYPE%20html%3E%3Chtml%20lang%3D%22en%22%20dir%3D%22ltr%22%3E%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22utf-8%22%3E%0A%20%20%20%20%3Ctitle%3E%u4E8B%u4EF6%u5904%u7406%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Csection%20class%3D%22module%20event%22%3E%0A%20%20%20%20%20%20%3Cbutton%20type%3D%22button%22%20name%3D%22button%22%3E%u70B9%u51FB%3C/button%3E%0A%20%20%20%20%20%20%3Cscript%20type%3D%22text/javascript%22%3E%0A%20%20%20%20%20%20%20%20const%20btn%20%3D%20document.querySelector%28%22button%5Bname%3Dbutton%5D%22%29%0A%20%20%20%20%20%20%20%20btn.addEventListener%28%27click%27%2C%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.log%28e.timeStamp%29%0A%20%20%20%20%20%20%20%20%7D%2C%20false%29%0A%20%20%20%20%20%20%3C/script%3E%0A%20%20%20%20%3C/section%3E%0A%20%20%20%20%0A%20%20%0A%3C/body%3E%3C/html%3E")], {          type: 'text/html'        }))        ifr.src = url        ifr.onload = function(){          ifr.height = ifr.contentDocument.documentElement.offsetHeight        }        ifr.onresize = function(){          ifr.height = ifr.contentDocument.documentElement.offsetHeight        }        const shell = document.querySelector('#hexo-e4748')        shell.parentNode.removeChild(shell)      })();    </script><h4 id="é¼ æ ‡äº‹ä»¶"><a href="#é¼ æ ‡äº‹ä»¶" class="headerlink" title="é¼ æ ‡äº‹ä»¶"></a>é¼ æ ‡äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// å½“ç”¨æˆ·ç‚¹å‡»æŸä¸ªå¯¹è±¡æ—¶è°ƒç”¨çš„äº‹ä»¶å¥æŸ„</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;dblclick&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)        <span class="comment">// å½“ç”¨æˆ·åŒå‡»æŸä¸ªå¯¹è±¡æ—¶è°ƒç”¨çš„äº‹ä»¶å¥æŸ„</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;contextmenu&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)     <span class="comment">// åœ¨ç”¨æˆ·ç‚¹å‡»é¼ æ ‡å³é”®æ‰“å¼€ä¸Šä¸‹æ–‡èœå•æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;mousedown&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)       <span class="comment">// é¼ æ ‡æŒ‰é’®è¢«æŒ‰ä¸‹</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)       <span class="comment">// é¼ æ ‡è¢«ç§»åŠ¨</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;mouseenter&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)      <span class="comment">// å½“é¼ æ ‡æŒ‡é’ˆç§»åŠ¨åˆ°å…ƒç´ ä¸Šæ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;mouseover&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)       <span class="comment">// é¼ æ ‡ç§»åˆ°æŸå…ƒç´ ä¹‹ä¸Š</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;mouseout&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)        <span class="comment">// é¼ æ ‡ä»æŸå…ƒç´ ç§»å¼€</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;mouseup&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)         <span class="comment">// é¼ æ ‡æŒ‰é”®è¢«æ¾å¼€</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;mouseleave&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)      <span class="comment">// å½“é¼ æ ‡æŒ‡é’ˆç§»å‡ºå…ƒç´ æ—¶è§¦å‘</span></span><br></pre></td></tr></table></figure><h4 id="é”®ç›˜äº‹ä»¶"><a href="#é”®ç›˜äº‹ä»¶" class="headerlink" title="é”®ç›˜äº‹ä»¶"></a>é”®ç›˜äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;keydown&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)         <span class="comment">// æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;keyup&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æ¾å¼€</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;keypress&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)        <span class="comment">// æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹å¹¶æ¾å¼€</span></span><br></pre></td></tr></table></figure><h4 id="æ¡†æ¶-å¯¹è±¡äº‹ä»¶"><a href="#æ¡†æ¶-å¯¹è±¡äº‹ä»¶" class="headerlink" title="æ¡†æ¶/å¯¹è±¡äº‹ä»¶"></a>æ¡†æ¶/å¯¹è±¡äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;abort&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// å›¾åƒçš„åŠ è½½è¢«ä¸­æ–­ &lt;object&gt;</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;beforeunload&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)    <span class="comment">// è¯¥äº‹ä»¶åœ¨å³å°†ç¦»å¼€é¡µé¢ï¼ˆåˆ·æ–°æˆ–å…³é—­ï¼‰æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;error&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// åœ¨åŠ è½½æ–‡æ¡£æˆ–å›¾åƒæ—¶å‘ç”Ÿé”™è¯¯ &lt;object&gt;, &lt;body&gt;å’Œ &lt;frameset&gt;</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;hashchange&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)      <span class="comment">// è¯¥äº‹ä»¶åœ¨å½“å‰ URL çš„é”šéƒ¨åˆ†å‘ç”Ÿä¿®æ”¹æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;load&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)            <span class="comment">// ä¸€å¼ é¡µé¢æˆ–ä¸€å¹…å›¾åƒå®ŒæˆåŠ è½½</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;pageshow&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)        <span class="comment">// è¯¥äº‹ä»¶åœ¨ç”¨æˆ·è®¿é—®é¡µé¢æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;pagehide&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)        <span class="comment">// è¯¥äº‹ä»¶åœ¨ç”¨æˆ·ç¦»å¼€å½“å‰ç½‘é¡µè·³è½¬åˆ°å¦å¤–ä¸€ä¸ªé¡µé¢æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;resize&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)          <span class="comment">// çª—å£æˆ–æ¡†æ¶è¢«é‡æ–°è°ƒæ•´å¤§å°</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;scroll&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)          <span class="comment">// å½“æ–‡æ¡£è¢«æ»šåŠ¨æ—¶å‘ç”Ÿçš„äº‹ä»¶</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;unload&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)          <span class="comment">// ç”¨æˆ·é€€å‡ºé¡µé¢ã€‚ ( &lt;body&gt; å’Œ &lt;frameset&gt;)</span></span><br></pre></td></tr></table></figure><h4 id="è¡¨å•äº‹ä»¶"><a href="#è¡¨å•äº‹ä»¶" class="headerlink" title="è¡¨å•äº‹ä»¶"></a>è¡¨å•äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;input&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// å…ƒç´ è·å–ç”¨æˆ·è¾“å…¥æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;select&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)          <span class="comment">// ç”¨æˆ·é€‰å–æ–‡æœ¬æ—¶è§¦å‘ ( &lt;input&gt; å’Œ &lt;textarea&gt;)</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;change&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)          <span class="comment">// è¯¥äº‹ä»¶åœ¨è¡¨å•å…ƒç´ çš„å†…å®¹æ”¹å˜æ—¶è§¦å‘( &lt;input&gt;, &lt;keygen&gt;, &lt;select&gt;, å’Œ &lt;textarea&gt;)</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;focus&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// å…ƒç´ è·å–ç„¦ç‚¹æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;reset&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// è¡¨å•é‡ç½®æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;submit&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)          <span class="comment">// è¡¨å•æäº¤æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;blur&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)            <span class="comment">// å…ƒç´ å¤±å»ç„¦ç‚¹æ—¶è§¦å‘</span></span><br></pre></td></tr></table></figure><h4 id="æ‹–æ‹½äº‹ä»¶"><a href="#æ‹–æ‹½äº‹ä»¶" class="headerlink" title="æ‹–æ‹½äº‹ä»¶"></a>æ‹–æ‹½äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;dragstart&#x27;</span>, <span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)      <span class="comment">// è¯¥äº‹ä»¶åœ¨ç”¨æˆ·å¼€å§‹æ‹–åŠ¨å…ƒç´ æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;drag&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)            <span class="comment">// è¯¥äº‹ä»¶åœ¨å…ƒç´ æ­£åœ¨æ‹–åŠ¨æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;dragend&#x27;</span>, <span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)        <span class="comment">// è¯¥äº‹ä»¶åœ¨ç”¨æˆ·å®Œæˆå…ƒç´ çš„æ‹–åŠ¨æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;dragover&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)        <span class="comment">// è¯¥äº‹ä»¶åœ¨æ‹–åŠ¨å…ƒç´ åœ¨æ”¾ç½®ç›®æ ‡ä¸Šæ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;dragenter&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)       <span class="comment">// è¯¥äº‹ä»¶åœ¨æ‹–åŠ¨çš„å…ƒç´ è¿›å…¥æ”¾ç½®ç›®æ ‡æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;dragleave&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)       <span class="comment">// è¯¥äº‹ä»¶åœ¨æ‹–åŠ¨å…ƒç´ ç¦»å¼€æ”¾ç½®ç›®æ ‡æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;drop&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)            <span class="comment">// è¯¥äº‹ä»¶åœ¨æ‹–åŠ¨å…ƒç´ æ”¾ç½®åœ¨ç›®æ ‡åŒºåŸŸæ—¶è§¦å‘</span></span><br></pre></td></tr></table></figure><h4 id="å‰ªè´´æ¿äº‹ä»¶"><a href="#å‰ªè´´æ¿äº‹ä»¶" class="headerlink" title="å‰ªè´´æ¿äº‹ä»¶"></a>å‰ªè´´æ¿äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;copy&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)            <span class="comment">// è¯¥äº‹ä»¶åœ¨ç”¨æˆ·æ‹·è´å…ƒç´ å†…å®¹æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;cut&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)             <span class="comment">// è¯¥äº‹ä»¶åœ¨ç”¨æˆ·å‰ªåˆ‡å…ƒç´ å†…å®¹æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;paste&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// è¯¥äº‹ä»¶åœ¨ç”¨æˆ·ç²˜è´´å…ƒç´ å†…å®¹æ—¶è§¦å‘</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹å±•ç¤º</span></span><br><span class="line"><span class="keyword">const</span> content = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.content&#x27;</span>)</span><br><span class="line">content.<span class="title function_">addeventListener</span>(<span class="string">&#x27;copy&#x27;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> selection = <span class="variable language_">document</span>.<span class="title function_">getSelection</span>();</span><br><span class="line">  event.<span class="property">clipboardData</span>.<span class="title function_">setData</span>(<span class="string">&#x27;text/plain&#x27;</span>, selection.<span class="title function_">toString</span>().<span class="title function_">toUpperCase</span>());</span><br><span class="line">  event.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="comment">// Clipboardevent &#123;isTrusted: true, clipboardData: DataTransfer, type: &#x27;copy&#x27;, target: p, currentTarget: div.content, â€¦&#125;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="æ‰“å°äº‹ä»¶"><a href="#æ‰“å°äº‹ä»¶" class="headerlink" title="æ‰“å°äº‹ä»¶"></a>æ‰“å°äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;afterprint&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)      <span class="comment">// è¯¥äº‹ä»¶åœ¨é¡µé¢å·²ç»å¼€å§‹æ‰“å°ï¼Œæˆ–è€…æ‰“å°çª—å£å·²ç»å…³é—­æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;beforeprint&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)     <span class="comment">// è¯¥äº‹ä»¶åœ¨é¡µé¢å³å°†å¼€å§‹æ‰“å°æ—¶è§¦å‘</span></span><br></pre></td></tr></table></figure><h4 id="å¤šåª’ä½“äº‹ä»¶"><a href="#å¤šåª’ä½“äº‹ä»¶" class="headerlink" title="å¤šåª’ä½“äº‹ä»¶"></a>å¤šåª’ä½“äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;abort&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// äº‹ä»¶åœ¨è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰ç»ˆæ­¢åŠ è½½æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;anplay&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)          <span class="comment">// äº‹ä»¶åœ¨ç”¨æˆ·å¯ä»¥å¼€å§‹æ’­æ”¾è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;canplaythrough&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)  <span class="comment">// äº‹ä»¶åœ¨è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰å¯ä»¥æ­£å¸¸æ’­æ”¾ä¸”æ— éœ€åœé¡¿å’Œç¼“å†²æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;durationchange&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)  <span class="comment">// äº‹ä»¶åœ¨è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰çš„æ—¶é•¿å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;ended&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// äº‹ä»¶åœ¨è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰æ’­æ”¾ç»“æŸæ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;error&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// äº‹ä»¶åœ¨è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰æ•°æ®åŠ è½½æœŸé—´å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;loadeddata&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)      <span class="comment">// äº‹ä»¶åœ¨æµè§ˆå™¨åŠ è½½è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰å½“å‰å¸§æ—¶è§¦å‘è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;loadedmetadata&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)  <span class="comment">// äº‹ä»¶åœ¨æµè§ˆå™¨åŠ è½½è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰å½“å‰å¸§æ—¶è§¦å‘è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;pause&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)           <span class="comment">// äº‹ä»¶åœ¨è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰æš‚åœæ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;play&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)            <span class="comment">// äº‹ä»¶åœ¨è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰å¼€å§‹æ’­æ”¾æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;timeupdate&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)      <span class="comment">// äº‹ä»¶åœ¨å½“å‰çš„æ’­æ”¾ä½ç½®å‘é€æ”¹å˜æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;volumechange&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)    <span class="comment">// äº‹ä»¶åœ¨éŸ³é‡å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;seeked&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)          <span class="comment">// äº‹ä»¶åœ¨ç”¨æˆ·é‡æ–°å®šä½è§†é¢‘/éŸ³é¢‘ï¼ˆaudio/videoï¼‰çš„æ’­æ”¾ä½ç½®åè§¦å‘</span></span><br></pre></td></tr></table></figure><h4 id="åŠ¨ç”»äº‹ä»¶"><a href="#åŠ¨ç”»äº‹ä»¶" class="headerlink" title="åŠ¨ç”»äº‹ä»¶"></a>åŠ¨ç”»äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;animationend&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)          <span class="comment">// è¯¥äº‹ä»¶åœ¨ CSS åŠ¨ç”»ç»“æŸæ’­æ”¾æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;animationiteration&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)    <span class="comment">// è¯¥äº‹ä»¶åœ¨ CSS åŠ¨ç”»é‡å¤æ’­æ”¾æ—¶è§¦å‘</span></span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;animationstart&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)        <span class="comment">// è¯¥äº‹ä»¶åœ¨ CSS åŠ¨ç”»å¼€å§‹æ’­æ”¾æ—¶è§¦å‘</span></span><br></pre></td></tr></table></figure><h4 id="è¿‡æ¸¡äº‹ä»¶"><a href="#è¿‡æ¸¡äº‹ä»¶" class="headerlink" title="è¿‡æ¸¡äº‹ä»¶"></a>è¿‡æ¸¡äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;transitionend&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)     <span class="comment">// è¯¥äº‹ä»¶åœ¨ CSS å®Œæˆè¿‡æ¸¡åè§¦å‘</span></span><br></pre></td></tr></table></figure><h4 id="è§¦æ‘¸äº‹ä»¶"><a href="#è§¦æ‘¸äº‹ä»¶" class="headerlink" title="è§¦æ‘¸äº‹ä»¶"></a>è§¦æ‘¸äº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&quot;touchstart&quot;</span>, <span class="function"><span class="params">e</span> =&gt;</span>&#123;&#125;, <span class="literal">false</span>)</span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&quot;touchend&quot;</span>, <span class="function"><span class="params">e</span> =&gt;</span>&#123;&#125;, <span class="literal">false</span>)</span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&quot;touchmove&quot;</span>, <span class="function"><span class="params">e</span> =&gt;</span>&#123;&#125;, <span class="literal">false</span>)</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰äº‹ä»¶"><a href="#è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶"></a>è‡ªå®šä¹‰äº‹ä»¶</h3><p><strong>1. new event</strong></p><p>æ­¤ event æ˜¯ event ä½†é eventï¼Œevent æ˜¯æ ¹ä¹Ÿæ˜¯é­‚ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ev = <span class="keyword">new</span> <span class="title function_">event</span>(<span class="string">&#x27;click&#x27;</span>)</span><br><span class="line">dom.<span class="title function_">dispatchevent</span>(ev)</span><br></pre></td></tr></table></figure><p><strong>2. new Customevent</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ev = <span class="keyword">new</span> <span class="title class_">Customevent</span>(<span class="string">&#x27;click&#x27;</span>,&#123;<span class="attr">detail</span>:&#123;&#125;&#125;)</span><br><span class="line">dom.<span class="title function_">dispatchevent</span>()</span><br></pre></td></tr></table></figure><p><strong>3. dispatchevent</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">dispatchevent</span>(<span class="keyword">new</span> <span class="title class_">Customevent</span>(<span class="string">&#x27;click&#x27;</span>))</span><br><span class="line">dom.<span class="title function_">dispatchevent</span>(<span class="keyword">new</span> <span class="title function_">event</span>(<span class="string">&#x27;click&#x27;</span>))</span><br></pre></td></tr></table></figure><p><strong>4. addeventListener</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;,<span class="literal">false</span>)</span><br><span class="line">dom.<span class="title function_">addeventListener</span>(<span class="string">&#x27;input&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;,<span class="literal">false</span>)</span><br></pre></td></tr></table></figure><p><strong>5. removeeventListener</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dom.<span class="title function_">removeeventListener</span>(<span class="string">&#x27;mouseleave&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;&#125;)</span><br></pre></td></tr></table></figure><h3 id="äº‹ä»¶æ¨¡å‹"><a href="#äº‹ä»¶æ¨¡å‹" class="headerlink" title="äº‹ä»¶æ¨¡å‹"></a>äº‹ä»¶æ¨¡å‹</h3><p>ä¸‰ä¸ªé˜¶æ®µï¼šäº‹ä»¶æ•è·é˜¶æ®µã€ç›®æ ‡é˜¶æ®µã€äº‹ä»¶å†’æ³¡é˜¶æ®µã€‚</p><p><img src="https://www.programminghunter.com/images/53/9d/9dfa27801cc26d6a25d8ab9d86fa77d5.png"><br><a href="https://pic2.zhimg.com/v2-9fd169cac0137e94d76ff9d7da7166bc_1440w.jpg?source=172ae18b"></a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">dir</span>=<span class="string">&quot;ltr&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>123<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;window-captrue&#x27;</span>)&#125;,<span class="literal">true</span>)</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;window-bubbles&#x27;</span>)&#125;,<span class="literal">false</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;document-captrue&#x27;</span>)&#125;,<span class="literal">true</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;document-bubbles&#x27;</span>)&#125;,<span class="literal">false</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;html-captrue&#x27;</span>)&#125;,<span class="literal">true</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;html-bubbles&#x27;</span>)&#125;,<span class="literal">false</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;body-captrue&#x27;</span>)&#125;,<span class="literal">true</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;body-bubbles&#x27;</span>)&#125;,<span class="literal">false</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>).<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;div-captrue&#x27;</span>)&#125;,<span class="literal">true</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>).<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;div-bubbles&#x27;</span>)&#125;,<span class="literal">false</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;p&#x27;</span>).<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;p-captrue&#x27;</span>)&#125;,<span class="literal">true</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;p&#x27;</span>).<span class="title function_">addeventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;p-bubbles&#x27;</span>)&#125;,<span class="literal">false</span>)</span><br><span class="line"><span class="comment">// html-captrue</span></span><br><span class="line"><span class="comment">// body-captrue</span></span><br><span class="line"><span class="comment">// div-captrue</span></span><br><span class="line"><span class="comment">// p-captrue</span></span><br><span class="line"><span class="comment">// p-bubbles</span></span><br><span class="line"><span class="comment">// div-bubbles</span></span><br><span class="line"><span class="comment">// body-bubbles</span></span><br><span class="line"><span class="comment">// html-bubbles</span></span><br></pre></td></tr></table></figure><h3 id="äº‹ä»¶å¯¹è±¡"><a href="#äº‹ä»¶å¯¹è±¡" class="headerlink" title="äº‹ä»¶å¯¹è±¡"></a>äº‹ä»¶å¯¹è±¡</h3><p>äº‹ä»¶å‘ç”Ÿä»¥åï¼Œä¼šäº§ç”Ÿä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼Œä½œä¸ºå‚æ•°ä¼ ç»™ç›‘å¬å‡½æ•°ã€‚æµè§ˆå™¨åŸç”Ÿæä¾›ä¸€ä¸ªeventå¯¹è±¡ï¼Œæ‰€æœ‰çš„äº‹ä»¶éƒ½æ˜¯è¿™ä¸ªå¯¹è±¡çš„å®ä¾‹ï¼Œæˆ–è€…è¯´ç»§æ‰¿äº†event.prototypeå¯¹è±¡ã€‚eventå¯¹è±¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥ç”Ÿæˆæ–°çš„å®ä¾‹ã€‚eventæ„é€ å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°typeæ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶çš„åç§°ï¼›ç¬¬äºŒä¸ªå‚æ•°optionsæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºäº‹ä»¶å¯¹è±¡çš„é…ç½®ã€‚è¯¥å¯¹è±¡ä¸»è¦æœ‰ä¸‹é¢ä¸¤ä¸ªå±æ€§ã€‚</p><p>bubblesï¼šå¸ƒå°”å€¼ï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸ºfalseï¼Œè¡¨ç¤ºäº‹ä»¶å¯¹è±¡æ˜¯å¦å†’æ³¡ã€‚<br>cancelableï¼šå¸ƒå°”å€¼ï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸ºfalseï¼Œè¡¨ç¤ºäº‹ä»¶æ˜¯å¦å¯ä»¥è¢«å–æ¶ˆï¼Œå³èƒ½å¦ç”¨event.preventDefault()å–æ¶ˆè¿™ä¸ªäº‹ä»¶ã€‚ä¸€æ—¦äº‹ä»¶è¢«å–æ¶ˆï¼Œå°±å¥½åƒä»æ¥æ²¡æœ‰å‘ç”Ÿè¿‡ï¼Œä¸ä¼šè§¦å‘æµè§ˆå™¨å¯¹è¯¥äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ev = <span class="keyword">new</span> <span class="title function_">event</span>(<span class="string">&#x27;click&#x27;</span>,&#123;</span><br><span class="line">  <span class="string">&#x27;bubbles&#x27;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&#x27;cancelable&#x27;</span>: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line">dom.<span class="title function_">dispatchevent</span>(ev)</span><br></pre></td></tr></table></figure><h4 id="å®ä¾‹å±æ€§"><a href="#å®ä¾‹å±æ€§" class="headerlink" title="å®ä¾‹å±æ€§"></a>å®ä¾‹å±æ€§</h4><table><thead><tr><th align="center">å±æ€§</th><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td align="center">bubbles</td><td>true/false</td><td>è¡¨ç¤ºå½“å‰äº‹ä»¶æ˜¯å¦ä¼šå†’æ³¡ã€‚è¯¥å±æ€§ä¸ºåªè¯»å±æ€§ï¼Œä¸€èˆ¬ç”¨æ¥äº†è§£ event å®ä¾‹æ˜¯å¦å¯ä»¥å†’æ³¡</td></tr><tr><td align="center">eventPhase</td><td>0/1/2/3</td><td>eventPhaseå±æ€§è¿”å›ä¸€ä¸ªæ•´æ•°å¸¸é‡ï¼Œè¡¨ç¤ºäº‹ä»¶ç›®å‰æ‰€å¤„çš„é˜¶æ®µ:äº‹ä»¶ç›®å‰æ²¡æœ‰å‘ç”Ÿã€äº‹ä»¶ç›®å‰å¤„äºæ•è·é˜¶æ®µã€äº‹ä»¶åˆ°è¾¾ç›®æ ‡èŠ‚ç‚¹ã€äº‹ä»¶å¤„äºå†’æ³¡é˜¶æ®µ</td></tr><tr><td align="center">cancelable</td><td>true/false</td><td>è¡¨ç¤ºäº‹ä»¶æ˜¯å¦å¯ä»¥å–æ¶ˆ</td></tr><tr><td align="center">cancelBubble</td><td>true/false</td><td>ç›¸å½“äºæ‰§è¡Œ event.stopPropagation()</td></tr><tr><td align="center">currentTarget</td><td>DOM</td><td>äº‹ä»¶å½“å‰æ­£åœ¨é€šè¿‡çš„èŠ‚</td></tr><tr><td align="center">target</td><td>DOM</td><td>äº‹ä»¶çš„åŸå§‹è§¦å‘èŠ‚ç‚¹ï¼ˆevent.targetï¼‰</td></tr><tr><td align="center">type</td><td>String</td><td>è¡¨ç¤ºäº‹ä»¶ç±»å‹</td></tr><tr><td align="center">timeStamp</td><td>æ¯«ç§’æ—¶é—´æˆ³</td><td>è¡¨ç¤ºäº‹ä»¶å‘ç”Ÿçš„æ—¶é—´,å®ƒæ˜¯ç›¸å¯¹äºç½‘é¡µåŠ è½½æˆåŠŸå¼€å§‹è®¡ç®—çš„</td></tr><tr><td align="center">isTrusted</td><td>true/false</td><td>è¡¨ç¤ºè¯¥äº‹ä»¶æ˜¯å¦ç”±çœŸå®çš„ç”¨æˆ·è¡Œä¸ºäº§ç”Ÿ</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ev = <span class="keyword">new</span> <span class="title class_">Event</span>(<span class="string">&#x27;click&#x27;</span>);</span><br><span class="line">ev.<span class="property">type</span> <span class="comment">// &quot;click&quot;</span></span><br><span class="line">ev.<span class="property">eventPhase</span> <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><h4 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h4><table><thead><tr><th>æ–¹æ³•/å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td>preventDefault()</td><td>æ–¹æ³•å–æ¶ˆæµè§ˆå™¨å¯¹å½“å‰äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚æ¯”å¦‚ç‚¹å‡»é“¾æ¥åï¼Œæµè§ˆå™¨é»˜è®¤ä¼šè·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä»¥åï¼Œå°±ä¸ä¼šè·³è½¬äº†</td></tr><tr><td>stopPropagation()</td><td>é˜»æ­¢äº‹ä»¶åœ¨ DOM ä¸­ç»§ç»­ä¼ æ’­ï¼Œé˜²æ­¢å†è§¦å‘å®šä¹‰åœ¨åˆ«çš„èŠ‚ç‚¹ä¸Šçš„ç›‘å¬å‡½æ•°ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬åœ¨å½“å‰èŠ‚ç‚¹ä¸Šå…¶ä»–çš„äº‹ä»¶ç›‘å¬å‡½æ•°</td></tr><tr><td>stopImmediatePropagation()</td><td>é˜»æ­¢åŒä¸€ä¸ªäº‹ä»¶çš„å…¶ä»–ç›‘å¬å‡½æ•°è¢«è°ƒç”¨ï¼Œä¸ç®¡ç›‘å¬å‡½æ•°å®šä¹‰åœ¨å½“å‰èŠ‚ç‚¹è¿˜æ˜¯å…¶ä»–èŠ‚ç‚¹</td></tr><tr><td>composedPath()</td><td>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯äº‹ä»¶çš„æœ€åº•å±‚èŠ‚ç‚¹å’Œä¾æ¬¡å†’æ³¡ç»è¿‡çš„æ‰€æœ‰ä¸Šå±‚èŠ‚ç‚¹</td></tr><tr><td>eventPhase</td><td>å±æ€§è¿”å›ä¸€ä¸ªæ•´æ•°å¸¸é‡ï¼Œè¡¨ç¤ºäº‹ä»¶ç›®å‰æ‰€å¤„çš„é˜¶æ®µã€‚è¯¥å±æ€§åªè¯»ï¼Œ</td></tr><tr><td>bubbless</td><td>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰äº‹ä»¶æ˜¯å¦ä¼šå†’æ³¡</td></tr><tr><td>cancelable</td><td>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºäº‹ä»¶æ˜¯å¦å¯ä»¥å–æ¶ˆ</td></tr></tbody></table><p><a href="https://wangdoc.com/javascript/events/event.html"></a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è¿ç®—ç¬¦</title>
      <link href="/40bc98d0-6073-11ec-b0fa-7939311ba144/"/>
      <url>/40bc98d0-6073-11ec-b0fa-7939311ba144/</url>
      
        <content type="html"><![CDATA[<h2 id="operator"><a href="#operator" class="headerlink" title="operator"></a>operator</h2><ol><li> operator ++</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> b = a++</span><br><span class="line"><span class="keyword">const</span> c = ++a</span><br></pre></td></tr></table></figure><ol start="2"><li> operator ,</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">1</span></span><br><span class="line"><span class="keyword">const</span> b = (a++, <span class="number">4</span>)</span><br></pre></td></tr></table></figure><ol start="3"><li> operator \&amp;\&amp;</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">1</span></span><br><span class="line">a === <span class="number">1</span> &amp;&amp; <span class="title function_">do</span>() <span class="comment">// ç­‰åŒäº if(a === 1)&#123; do() &#125;</span></span><br></pre></td></tr></table></figure><ol start="4"><li> operator ||</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">1</span></span><br><span class="line">a === <span class="number">1</span> || <span class="title function_">do</span>() <span class="comment">// ç­‰åŒäº if(a !== 1)&#123; do() &#125;</span></span><br></pre></td></tr></table></figure><ol start="5"><li> operator ~~</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = ~~ <span class="number">1.23</span> <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><ol start="6"><li> operator |</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">1.23</span> | <span class="number">0</span> <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><ol start="7"><li> operator &gt;&gt;</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">1.23</span> &gt;&gt; <span class="number">0</span> <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><ol start="8"><li> void</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;iife&#x27;</span>)&#125;() <span class="comment">// &#x27;iife&#x27;</span></span><br><span class="line"><span class="keyword">function</span>(<span class="params"></span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;iife&#x27;</span>)&#125;() <span class="comment">// Uncaught SyntaxError: Function statements require a function name</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;iife&#x27;</span>)&#125;)() <span class="comment">// &#x27;iife&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®å¤„ç†</title>
      <link href="/6de0a5a0-6072-11ec-bf63-672e56567b3e/"/>
      <url>/6de0a5a0-6072-11ec-bf63-672e56567b3e/</url>
      
        <content type="html"><![CDATA[<h3 id="æ•°æ®å¤„ç†"><a href="#æ•°æ®å¤„ç†" class="headerlink" title="æ•°æ®å¤„ç†"></a>æ•°æ®å¤„ç†</h3><ol><li> Number.prototype.toLocaleString</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">123456.789</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¦æ±‚è´§å¸æ ¼å¼</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(number.<span class="title function_">toLocaleString</span>(<span class="string">&#x27;de-DE&#x27;</span>, &#123; <span class="attr">style</span>: <span class="string">&#x27;currency&#x27;</span>, <span class="attr">currency</span>: <span class="string">&#x27;EUR&#x27;</span> &#125;));</span><br><span class="line"><span class="comment">// â†’ 123.456,79 â‚¬</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¥å…ƒä¸ä½¿ç”¨å°æ•°ä½</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(number.<span class="title function_">toLocaleString</span>(<span class="string">&#x27;ja-JP&#x27;</span>, &#123; <span class="attr">style</span>: <span class="string">&#x27;currency&#x27;</span>, <span class="attr">currency</span>: <span class="string">&#x27;JPY&#x27;</span> &#125;))</span><br><span class="line"><span class="comment">// â†’ ï¿¥123,457</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é™åˆ¶ä¸‰ä½æœ‰æ•ˆæ•°å­—</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(number.<span class="title function_">toLocaleString</span>(<span class="string">&#x27;en-IN&#x27;</span>, &#123; <span class="attr">maximumSignificantDigits</span>: <span class="number">3</span> &#125;));</span><br><span class="line"><span class="comment">// â†’ 1,23,000</span></span><br><span class="line"></span><br><span class="line"><span class="number">254.</span>.<span class="title function_">toString</span>(<span class="number">16</span>) <span class="comment">// &#x27;fe&#x27;</span></span><br><span class="line"><span class="number">254.</span>.<span class="title function_">toLocaleString</span>(<span class="number">16</span>) <span class="comment">// &#x27;254&#x27;</span></span><br></pre></td></tr></table></figure><ol start="2"><li> Date.prototype.toLocaleString</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">date.<span class="title function_">toLocaleString</span>(<span class="string">&#x27;zh&#x27;</span>);    <span class="comment">// 2018-4-4 15:08:38</span></span><br><span class="line">date.<span class="title function_">toLocaleString</span>(<span class="string">&#x27;en-US&#x27;</span>);    <span class="comment">// 4/4/2018, 3:08:38 PM</span></span><br></pre></td></tr></table></figure><ol start="3"><li> Array.prototype.toLocaleString</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> prices = [<span class="string">&#x27;ï¿¥7&#x27;</span>, <span class="number">500</span>, <span class="number">8123</span>, <span class="number">12</span>];</span><br><span class="line">prices.<span class="title function_">toLocaleString</span>(<span class="string">&#x27;ja-JP&#x27;</span>, &#123; <span class="attr">style</span>: <span class="string">&#x27;currency&#x27;</span>, <span class="attr">currency</span>: <span class="string">&#x27;JPY&#x27;</span> &#125;);</span><br><span class="line"><span class="comment">// &quot;ï¿¥7,ï¿¥500,ï¿¥8,123,ï¿¥12&quot;</span></span><br></pre></td></tr></table></figure><ol start="4"><li> String.prototype.replace</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">replacer</span>(<span class="params">match, p1, p2, p3, offset, string</span>) &#123;</span><br><span class="line">  <span class="comment">// p1 is nondigits, p2 digits, and p3 non-alphanumerics</span></span><br><span class="line">  <span class="keyword">return</span> [p1, p2, p3].<span class="title function_">join</span>(<span class="string">&#x27; - &#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> newString = <span class="string">&#x27;abc12345#$*%&#x27;</span>.<span class="title function_">replace</span>(<span class="regexp">/([^\d]*)(\d*)([^\w]*)/</span>, replacer);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newString);  <span class="comment">// abc - 12345 - #$*%</span></span><br></pre></td></tr></table></figure><ol start="5"><li> String.prototype.padStart/padEnd</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str1 = <span class="string">&#x27;5&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1.<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&#x27;0&#x27;</span>));</span><br><span class="line"><span class="comment">// expected output: &quot;05&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fullNumber = <span class="string">&#x27;2034399002125581&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> last4Digits = fullNumber.<span class="title function_">slice</span>(-<span class="number">4</span>);</span><br><span class="line"><span class="keyword">const</span> maskedNumber = last4Digits.<span class="title function_">padStart</span>(fullNumber.<span class="property">length</span>, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(maskedNumber);</span><br><span class="line"><span class="comment">// expected output: &quot;************5581&quot;</span></span><br></pre></td></tr></table></figure><ol start="6"><li> Array.prototype.reduce</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">reducer</span> = (<span class="params">previousValue, currentValue</span>) =&gt; previousValue + currentValue;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1 + 2 + 3 + 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array1.<span class="title function_">reduce</span>(reducer));</span><br><span class="line"><span class="comment">// expected output: 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5 + 1 + 2 + 3 + 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array1.<span class="title function_">reduce</span>(reducer, <span class="number">5</span>));</span><br></pre></td></tr></table></figure><ol start="7"><li> Math.random</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(list.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() - <span class="number">0.5</span></span><br><span class="line">&#125;));</span><br><span class="line"><span class="comment">// [4, 8, 2, 9, 1, 3, 6, 5, 7]</span></span><br><span class="line"><span class="comment">// random åˆ†å¸ƒå›¾</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Random</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">count = <span class="number">100</span>, width = <span class="number">400</span>, height = <span class="number">300</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">count</span> = count</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">width</span> = width</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">height</span> = height</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">root</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;canvas&#x27;</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">root</span>.<span class="property">width</span> = <span class="string">`<span class="subst">$&#123;width&#125;</span>`</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">root</span>.<span class="property">height</span> = <span class="string">`<span class="subst">$&#123;height&#125;</span>`</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">canvas</span> = <span class="variable language_">this</span>.<span class="property">root</span>.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">xScale</span> = width / count</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">yScale</span> = height / count</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">decision</span> = count.<span class="title function_">toString</span>().<span class="property">length</span> - <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">random</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (n) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>()</span><br><span class="line">      <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="title class_">Math</span>.<span class="title function_">random</span>()</span><br><span class="line">      <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="title class_">Math</span>.<span class="title function_">random</span>()</span><br><span class="line">      <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="title class_">Math</span>.<span class="title function_">random</span>()</span><br><span class="line">      <span class="attr">default</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">create</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> logs = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, count = <span class="variable language_">this</span>.<span class="property">count</span>, k, v; i &lt; count; i++) &#123;</span><br><span class="line">      <span class="comment">// v = + new Function(`return $&#123;Array(4).fill(&#x27;Math.random()&#x27;).join(&#x27;*&#x27;)&#125;`)()  æ•ˆç‡ä½ low effciency</span></span><br><span class="line">      v = <span class="variable language_">this</span>.<span class="title function_">random</span>(n)</span><br><span class="line">      k = v.<span class="title function_">toFixed</span>(<span class="variable language_">this</span>.<span class="property">decision</span>)</span><br><span class="line">      <span class="keyword">if</span> (!logs[k]) &#123;</span><br><span class="line">        logs[k] = <span class="number">1</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        logs[k]++</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> logs</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">draw</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="variable language_">this</span>.<span class="title function_">create</span>(<span class="number">4</span>)</span><br><span class="line">    <span class="keyword">const</span> canvas = <span class="variable language_">this</span>.<span class="property">canvas</span></span><br><span class="line">    <span class="keyword">const</span> width = <span class="variable language_">this</span>.<span class="property">width</span></span><br><span class="line">    <span class="keyword">const</span> height = <span class="variable language_">this</span>.<span class="property">height</span></span><br><span class="line">    <span class="keyword">const</span> count = <span class="variable language_">this</span>.<span class="property">count</span></span><br><span class="line">    <span class="keyword">const</span> decision = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">10</span>, <span class="variable language_">this</span>.<span class="property">decision</span> - <span class="number">1</span>), <span class="number">10</span>)</span><br><span class="line">    canvas.<span class="property">fillStyle</span> = <span class="string">&#x27;blue&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> h</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> [k, v] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(data)) &#123;</span><br><span class="line">      h = v / count * height * decision</span><br><span class="line">      canvas.<span class="title function_">fillRect</span>(width * k, height - h, <span class="number">1</span>, h);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">mount</span>(<span class="params">selector</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> root = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(selector)</span><br><span class="line">    <span class="keyword">if</span> (root) &#123;</span><br><span class="line">      root.<span class="title function_">appendChild</span>(<span class="variable language_">this</span>.<span class="property">root</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> r = <span class="keyword">new</span> <span class="title class_">Random</span>(<span class="number">9000</span>)</span><br><span class="line">r.<span class="title function_">mount</span>(<span class="string">&#x27;.data&#x27;</span>)</span><br><span class="line">r.<span class="title function_">draw</span>()</span><br></pre></td></tr></table></figure><ol start="8"><li> new Set</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> my_array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">const</span> unique_array = [...<span class="keyword">new</span> <span class="title class_">Set</span>(my_array)];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(unique_array); <span class="comment">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure><ol start="9"><li> String.prototype.trim</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><ol start="10"><li>Array.prototype.splice</li></ol><p>ä¸è¦ç”¨ delete arr[2]</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>  arr = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>];</span><br><span class="line"><span class="keyword">delete</span> arr[<span class="number">2</span>] <span class="comment">// arr = [1,4,empty,8]</span></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">2</span>,<span class="number">1</span>) <span class="comment">// arr = [1,4,8]</span></span><br></pre></td></tr></table></figure><ol start="11"><li>JSON.stringify/parse</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;name :<span class="string">&#x27;Saad&#x27;</span>, age : <span class="number">26</span>, department : &#123;<span class="variable constant_">ID</span> : <span class="number">15</span>, name : <span class="string">&quot;R&amp;D&quot;</span>&#125; &#125;;</span><br><span class="line"><span class="keyword">var</span> stringFromPerson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(person);</span><br><span class="line"><span class="comment">/* stringFromPerson ç»“æœä¸º &quot;&#123;&quot;name&quot;:&quot;Saad&quot;,&quot;age&quot;:26,&quot;department&quot;:&#123;&quot;ID&quot;:15,&quot;name&quot;:&quot;R&amp;D&quot;&#125;&#125;&quot;   */</span></span><br><span class="line"><span class="keyword">var</span> personFromString = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(stringFromPerson);</span><br><span class="line"><span class="comment">/* personFromString çš„å€¼ä¸ person å¯¹è±¡ç›¸åŒ  */</span></span><br></pre></td></tr></table></figure><ol start="12"><li>Object.defineProperty</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> object1 = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(object1, <span class="string">&#x27;property1&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="number">42</span>,</span><br><span class="line">  <span class="attr">writable</span>: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">object1.<span class="property">property1</span> = <span class="number">77</span>;</span><br><span class="line"><span class="comment">// throws an error in strict mode</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(object1.<span class="property">property1</span>);</span><br><span class="line"><span class="comment">// expected output: 42</span></span><br></pre></td></tr></table></figure><ol start="13"><li>delete</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> trees = [<span class="string">&quot;redwood&quot;</span>,<span class="string">&quot;bay&quot;</span>,<span class="string">&quot;cedar&quot;</span>,<span class="string">&quot;oak&quot;</span>,<span class="string">&quot;maple&quot;</span>];</span><br><span class="line"><span class="keyword">delete</span> trees[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">if</span> (<span class="number">3</span> <span class="keyword">in</span> trees) &#123;</span><br><span class="line">   <span class="comment">// è¿™é‡Œä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="14"><li>Array.prototype.length</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> trees = [<span class="string">&quot;redwood&quot;</span>,<span class="string">&quot;bay&quot;</span>,<span class="string">&quot;cedar&quot;</span>,<span class="string">&quot;oak&quot;</span>,<span class="string">&quot;maple&quot;</span>];</span><br><span class="line"><span class="keyword">delete</span> trees[<span class="number">3</span>];</span><br><span class="line">trees.<span class="property">length</span> = <span class="number">0</span></span><br></pre></td></tr></table></figure><ol start="15"><li><a href="https://zh.javascript.info/new-function">new Function</a></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> value = <span class="string">&quot;test&quot;</span>;</span><br><span class="line">  <span class="keyword">let</span> func = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&#x27;alert(value)&#x27;</span>);</span><br><span class="line">  <span class="keyword">return</span> func;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getFunc</span>()(); <span class="comment">// error: value is not defined</span></span><br></pre></td></tr></table></figure><ol start="16"><li>String.prototype.flat</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6</span></span><br><span class="line">[<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>]]].<span class="title function_">flat</span>(<span class="number">2</span>)  <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="comment">// ES3/5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">flatten</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> result = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = arr.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr[i])) &#123;</span><br><span class="line">            result = result.<span class="title function_">concat</span>(<span class="title function_">flatten</span>(arr[i]))</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result.<span class="title function_">push</span>(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">flatten</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">while</span> (arr.<span class="title function_">some</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="title class_">Array</span>.<span class="title function_">isArray</span>(item))) &#123;</span><br><span class="line">        arr = [].<span class="title function_">concat</span>(...arr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">flatten</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">toString</span>().<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="17"><li>Array.prototype.sort</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;12&#x27;</span>, <span class="string">&#x27;22&#x27;</span>, <span class="string">&#x27;13&#x27;</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="string">&#x27;3&#x27;</span>];</span><br><span class="line">arr.<span class="title function_">sort</span>() <span class="comment">// [1, &#x27;12&#x27;, &#x27;13&#x27;, 2, &#x27;22&#x27;, &#x27;3&#x27;]</span></span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a-b) <span class="comment">// [1, 2, &#x27;3&#x27;, &#x27;12&#x27;, &#x27;13&#x27;, &#x27;22&#x27;]</span></span><br></pre></td></tr></table></figure><ol start="18"><li><a href="https://juejin.cn/post/6844903924512587783">Math.random</a></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// random color</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>(<span class="number">16</span>).<span class="title function_">slice</span>(<span class="number">4</span>,<span class="number">10</span>)</span><br><span class="line"><span class="comment">// random string</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>(<span class="number">36</span>).<span class="title function_">substr</span>(<span class="number">2</span>)</span><br><span class="line"><span class="comment">// random number in specified range</span></span><br><span class="line"><span class="keyword">const</span> max = <span class="number">100</span></span><br><span class="line"><span class="keyword">const</span> min = <span class="number">10</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">random</span>() * (max - min) + min</span><br><span class="line"><span class="comment">// random order</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;G&#x27;</span>]</span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="function">() =&gt;</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() - <span class="number">0.5</span>)</span><br></pre></td></tr></table></figure><ol start="19"><li>JSON.stringify/parse</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">c</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">d</span>: [<span class="string">&#x27;34&#x27;</span>,<span class="string">&#x27;45&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj) <span class="comment">// JSON.stringify(obj)</span></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="string">&#x27;&#123;&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:3,&quot;d&quot;:[&quot;34&quot;,&quot;45&quot;]&#125;&#x27;</span>) <span class="comment">// &#123;a: 1, b: 2, c: 3, d: Array(2)&#125;</span></span><br></pre></td></tr></table></figure><ol start="20"><li>Array.prototype.filter</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="literal">undefined</span>, <span class="literal">null</span>, <span class="string">&quot;&quot;</span>, <span class="number">0</span>, <span class="literal">false</span>, <span class="title class_">NaN</span>, <span class="number">1</span>, <span class="number">2</span>].<span class="title function_">filter</span>(<span class="title class_">Boolean</span>); <span class="comment">// [1, 2]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/1be46e80-4ac9-11ec-86dc-bd39d87b155a/"/>
      <url>/1be46e80-4ac9-11ec-86dc-bd39d87b155a/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å†…ç½®å¯¹è±¡</title>
      <link href="/150da360-4ac9-11ec-a3d9-9bb136c8315f/"/>
      <url>/150da360-4ac9-11ec-a3d9-9bb136c8315f/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å˜é‡å’Œä½œç”¨åŸŸ</title>
      <link href="/bdaaba40-4ac8-11ec-8426-4f20a6ca48e1/"/>
      <url>/bdaaba40-4ac8-11ec-8426-4f20a6ca48e1/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>åŸå‹é“¾</title>
      <link href="/b2523790-4ac8-11ec-a561-1f759942c09b/"/>
      <url>/b2523790-4ac8-11ec-a561-1f759942c09b/</url>
      
        <content type="html"><![CDATA[<h3 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h3><p>proto n. åŸå‹ï¼›æ ·æœºï¼›å…¸å‹<br>prototype n. ï¼ˆæ–°å‹æ±½è½¦ã€æœºå™¨ç­‰çš„ï¼‰åŸå‹ï¼Œé›å½¢ï¼›</p><h3 id="å‡½æ•°-Function"><a href="#å‡½æ•°-Function" class="headerlink" title="å‡½æ•° Function"></a>å‡½æ•° Function</h3><p>ä¸€èˆ¬å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;&#125;</span><br></pre></td></tr></table></figure><p>åŒ¿åå‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br></pre></td></tr></table></figure><p>åŠ¨æ€å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> minus = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&#x27;a,b&#x27;</span>, <span class="string">&#x27;return a-b&#x27;</span>)</span><br><span class="line"><span class="title function_">minus</span>(<span class="number">3</span>, <span class="number">2</span>) <span class="comment">//1</span></span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡-Object"><a href="#å¯¹è±¡-Object" class="headerlink" title="å¯¹è±¡ Object"></a>å¯¹è±¡ Object</h3><p>ä¸€åˆ‡èµ·æºéƒ½æ˜¯ Objectï¼Œä¸€åˆ‡å½’å®¿éƒ½æ˜¯ Object.prototype</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>() ç­‰åŒäº &#123;&#125;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>(<span class="literal">null</span>) === <span class="literal">null</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>(<span class="literal">undefined</span>) === <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>(<span class="number">123</span>) ç­‰åŒäº <span class="keyword">new</span> <span class="title class_">Number</span>(<span class="number">123</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>(<span class="string">&#x27;hello&#x27;</span>) ç­‰åŒäº  <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>(<span class="title class_">String</span>) === <span class="title class_">String</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>(<span class="title class_">Date</span>) === <span class="title class_">Date</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>(<span class="title class_">Math</span>) === <span class="title class_">Math</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>(<span class="title class_">Function</span>) === <span class="title class_">Function</span></span><br></pre></td></tr></table></figure><h3 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">RegExp</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">String</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Number</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Array</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Boolean</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Function</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Error</span></span><br><span class="line"><span class="comment">// -------------------------</span></span><br><span class="line"><span class="keyword">new</span> <span class="keyword">class</span>&#123;&#125;</span><br><span class="line"><span class="keyword">new</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Symbol</span> <span class="comment">// Uncaught TypeError: Symbol is not a constructor</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Math</span> <span class="comment">// VM2939:1 Uncaught TypeError: Math is not a constructor</span></span><br></pre></td></tr></table></figure><h3 id="å…³ç³»å›¾"><a href="#å…³ç³»å›¾" class="headerlink" title="å…³ç³»å›¾"></a>å…³ç³»å›¾</h3><p>instance<br>class/function<br>object.prototype</p><p>å­—é¢é‡ vs å¯¹è±¡å®ä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// String</span></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;123&#x27;</span></span><br><span class="line"><span class="keyword">const</span> trs = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="keyword">typeof</span> str === <span class="string">&#x27;string&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> trs === <span class="string">&#x27;object&#x27;</span></span><br><span class="line">str <span class="keyword">instanceof</span> <span class="title class_">String</span> === <span class="literal">false</span></span><br><span class="line">trs <span class="keyword">instanceof</span> <span class="title class_">String</span> === <span class="literal">true</span></span><br><span class="line">str.<span class="property">__proto__</span> === <span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">trs.<span class="property">__proto__</span> === <span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"><span class="comment">// Function</span></span><br><span class="line"><span class="keyword">const</span> fuc = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&#x27;a,b&#x27;</span>, <span class="string">&#x27;return a+b&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> ucf = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> cuf = <span class="keyword">new</span> <span class="title function_">ucf</span>()</span><br><span class="line">fuc.<span class="property">__proto__</span> === <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">ucf.<span class="property">__proto__</span> === <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">cuf.<span class="property">__proto__</span> === ucf.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">ucf.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"><span class="keyword">typeof</span> fuc === <span class="string">&#x27;function&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> ucf === <span class="string">&#x27;function&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> cuf === <span class="string">&#x27;object&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Funcs</span> &#123;&#125;</span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Funcs</span> === <span class="string">&#x27;function&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="title class_">Funcs</span> === <span class="string">&#x27;object&#x27;</span></span><br><span class="line"><span class="title class_">Funcs</span>.<span class="property">__proto__</span> === <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object</span></span><br><span class="line"><span class="keyword">const</span> conf = &#123;&#125;</span><br><span class="line"><span class="keyword">typeof</span> conf === <span class="string">&#x27;object&#x27;</span></span><br><span class="line">conf <span class="keyword">instanceof</span> <span class="title class_">Object</span> === <span class="literal">true</span></span><br><span class="line">conf.<span class="property">__proto__</span> === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="literal">null</span></span><br></pre></td></tr></table></figure><p>å­—é¢é‡æ˜¯ä¸€ç§ç‰¹æ®Šçš„ã€Œå¯¹è±¡ã€ï¼Œä¹Ÿæ˜¯æœ‰ã€Œæ„é€ å‡½æ•°ã€çš„ï¼Œå¼„æ¸…æ¥šå®ä¾‹å’Œæ„é€ å‡½æ•°ä¹Ÿå°±å¼„æ¸…æ¥šäº†ã€ŒåŸå‹é“¾ã€ã€‚(åŒçˆ¶å¼‚æ¯çš„å…„å¼Ÿå§å¦¹)</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç±»å‹</title>
      <link href="/0cfb35c0-49de-11ec-89f9-49447d13d736/"/>
      <url>/0cfb35c0-49de-11ec-89f9-49447d13d736/</url>
      
        <content type="html"><![CDATA[<h4 id="å¯¼è¯»"><a href="#å¯¼è¯»" class="headerlink" title="å¯¼è¯»"></a>å¯¼è¯»</h4><!-- toc --><p>!!! note â€œæŒ‰è¯­â€<br>    æ•°æ®ç±»å‹æ˜¯JavaScriptæ ¸å¿ƒçš„åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œç¢ç‰‡æ–‡ç« æ¯”è¾ƒå¤šä½†ä¸å¤Ÿå…¨é¢ï¼Œå…³äºä¸€äº›ç–‘éš¾ç‚¹ä¹Ÿå¹¶æ— æ€»ç»“ï¼Œå¯¹äºæ–°åŒå­¦ä¸Šæ‰‹è€Œè¨€å¾€å¾€æ˜¯äº‘é‡Œé›¾é‡Œã€‚æœ¬æ–‡å…¨é¢å‰–æä¸”è¨€ç®€æ„èµ…ï¼Œå¸Œæœ›è¯»è€…å–œæ¬¢ã€‚</p><h3 id="ä¸ºä»€ä¹ˆå­¦ä¹ ç¼–ç¨‹è¯­è¨€çš„æ•°æ®ç±»å‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå­¦ä¹ ç¼–ç¨‹è¯­è¨€çš„æ•°æ®ç±»å‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆå­¦ä¹ ç¼–ç¨‹è¯­è¨€çš„æ•°æ®ç±»å‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆå­¦ä¹ ç¼–ç¨‹è¯­è¨€çš„æ•°æ®ç±»å‹ï¼Ÿ</h3><p>æˆ‘ä»¬çŸ¥é“è®¡ç®—æœºç¨‹åº=ç®—æ³•+æ•°æ®ç»“æ„ï¼Œæ•°æ®ç»“æ„æ˜¯æŒ‡ç›¸äº’ä¹‹é—´å­˜åœ¨ä¸€ç§æˆ–å¤šç§ç‰¹å®šå…³ç³»çš„æ•°æ®å…ƒç´ çš„é›†åˆã€‚æ•°æ®ç±»å‹å°±æ˜¯æ•°æ®å…ƒç´ çš„ä¸€ç§ç»„ç»‡å½¢å¼ï¼Œå­¦ä¹ å’Œç†è§£æ•°æ®ç±»å‹å¯¹æˆ‘ä»¬ç¼–å†™é«˜è´¨é‡çš„ç¨‹åºè‡³å…³é‡è¦ã€‚</p><h3 id="JavaScript-çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ"><a href="#JavaScript-çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="JavaScript çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ"></a>JavaScript çš„æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ</h3><p>æœ€æ–°çš„ ECMAScript æ ‡å‡†å®šä¹‰äº† 8 ç§æ•°æ®ç±»å‹: <strong>undefined</strong>ã€ <strong>boolean</strong>ã€ <strong>number</strong>ã€ <strong>string</strong>ã€ <strong>bingint</strong>ã€ <strong>symbol</strong>ã€ <strong>null</strong>ã€ <strong>object</strong>ï¼Œå…¶ä¸­é™¤äº† object ä¹‹å¤–éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚</p><p>å¦‚æœæƒ³åˆ¤æ–­å˜é‡çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥å€ŸåŠ© JavaScript è¯­æ³•æä¾›çš„ <strong>typeof</strong> å…³é”®å­—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> === <span class="string">&#x27;undefined&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span> ===<span class="string">&#x27;boolean&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">2021</span> === <span class="string">&#x27;number&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&#x27;hello&#x27;</span> === <span class="string">&#x27;string&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">BigInt</span>(<span class="number">1</span>) === <span class="string">&#x27;bigint&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Symbol</span>(<span class="number">2</span>) === <span class="string">&#x27;symbol&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> === <span class="string">&#x27;object&#x27;</span>            <span class="comment">// æ³¨æ„æ˜¯ object è€Œä¸æ˜¯ null</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;&#125; === <span class="string">&#x27;object&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125; === <span class="string">&#x27;function&#x27;</span>  <span class="comment">// æ³¨æ„æ˜¯ function è€Œä¸æ˜¯ object</span></span><br></pre></td></tr></table></figure><p>ç»†å¿ƒçš„åŒå­¦ä¸éš¾å‘ç°ä¸Šè¿°ä»£ç çš„è¿è¡Œç»“æœæœ‰ä¸¤ä¸ªâ€œç–‘ç‚¹â€ï¼š</p><ol><li> null çš„æ•°æ®ç±»å‹ç«Ÿç„¶ä¸æ˜¯ null è€Œæ˜¯ object :question:</li><li> æŒ‰ç…§ ECMAScript å®šä¹‰çš„æ•°æ®ç±»å‹å¹¶ä¸åŒ…æ‹¬ function è€Œ typeof ç«Ÿç„¶è¿”å›äº† function :question:</li></ol><p>æˆ‘ä»¬æ¥çœ‹ä¸‹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œ<a href="https://tc39.es/ecma262/#sec-terms-and-definitions-null-type">å®˜æ–¹</a>æ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼š</p><blockquote><p>4.4.16 Null type<br>type whose sole value is the null value</p></blockquote><p>è¿™å¥è¯çš„æ„æ€ä¸€ä¸ªè¢«èµ‹å€¼ null çš„å˜é‡çš„æ•°æ®ç±»å‹æ˜¯ nullï¼Œç”¨ä»£ç è¡¨ç¤ºå°±æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="literal">null</span></span><br><span class="line"><span class="keyword">typeof</span> a === <span class="string">&#x27;null&#x27;</span></span><br></pre></td></tr></table></figure><p>ä½†å®é™…ä¸Šæ˜¯è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="literal">null</span></span><br><span class="line"><span class="keyword">typeof</span> a === <span class="string">&#x27;undefined&#x27;</span></span><br></pre></td></tr></table></figure><p>æ¢å¥è¯è¯´ null æ˜¯ç†è®ºä¸Šçš„åŸºæœ¬æ•°æ®ç±»å‹ä¹‹ä¸€ï¼Œä½†åœ¨å®é™…ä¸­å¹¶æœªè¢«æ‰§è¡Œï¼Œå¤šä¸ªæ–‡ç« éƒ½å°†å…¶æè¿°ä¸ºâ€œ<a href="https://2ality.com/2013/10/typeof-null.html">å†å²åŸå› </a>â€æ‰€è‡´ï¼Œæœ‰å…´è¶£å¯ä»¥è‡ªè¡Œé˜…è¯»ã€‚å¦‚æœæ²¡æœ‰æ—¶é—´é˜…è¯»ä¹Ÿå¯ä»¥å‚è€ƒ MDN çš„æè¿°ï¼š</p><blockquote><p>åœ¨ JavaScript æœ€åˆçš„å®ç°ä¸­ï¼ŒJavaScript ä¸­çš„å€¼æ˜¯ç”±ä¸€ä¸ªè¡¨ç¤ºç±»å‹çš„æ ‡ç­¾å’Œå®é™…æ•°æ®å€¼è¡¨ç¤ºçš„ã€‚å¯¹è±¡çš„ç±»å‹æ ‡ç­¾æ˜¯ 0ã€‚ç”±äº null ä»£è¡¨çš„æ˜¯ç©ºæŒ‡é’ˆï¼ˆå¤§å¤šæ•°å¹³å°ä¸‹å€¼ä¸º 0x00ï¼‰ï¼Œå› æ­¤ï¼Œnull çš„ç±»å‹æ ‡ç­¾æ˜¯ 0ï¼Œtypeof null ä¹Ÿå› æ­¤è¿”å› â€œobjectâ€ã€‚</p></blockquote><p>å†æ¥çœ‹ä¸‹ç¬¬äºŒä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆ typeof è¿”å›äº†ä¸€ä¸ªä¸åœ¨å®šä¹‰èŒƒå›´å†…çš„æ•°æ®ç±»å‹ï¼Œç»è¿‡æŸ¥é˜… ecma262 æ ‡å‡†å¾—å‡ºäº†ç­”æ¡ˆï¼Œæ€»ç»“å¦‚ä¸‹ï¼š</p><ol><li> JavaScript ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œè€Œ function ä¹Ÿæ˜¯ object çš„ä¸€ç§ã€‚</li><li> å¦‚ä½•åŒºåˆ† function object è¿˜æ˜¯ normal objectï¼Œæ˜¯éœ€è¦çœ‹ object æœ‰æ²¡æœ‰å®ç° [[Call]] è¿™ä¸ªå†…ç½®æ–¹æ³•ï¼Œå…·ä½“<a href="https://tc39.es/ecma262/#sec-ecmascript-function-objects-call-thisargument-argumentslist">å‚è€ƒ</a>ã€‚</li><li> typeof åœ¨è®¡ç®— object ç±»å‹æ—¶ä¼šæ£€æŸ¥  [[Call]] å†…ç½®æ–¹æ³•æ˜¯å¦è¢«å®ç°ï¼Œå®ç°äº†è¿”å› function æ²¡å®ç°åˆ™è¿”å› objectã€‚</li></ol><table style="margin:0 30%;"><tbody>  <tr>    <th>Type of <var>val</var></th>    <th>Result</th>  </tr>  <tr>    <td>Undefined</td>    <td><emu-val>"undefined"</emu-val></td>  </tr>  <tr>    <td>Null</td>    <td><emu-val>"object"</emu-val></td>  </tr>  <tr>    <td>Boolean</td>    <td><emu-val>"boolean"</emu-val></td>  </tr>  <tr>    <td>Number</td>    <td><emu-val>"number"</emu-val></td>  </tr>  <tr>    <td>String</td>    <td><emu-val>"string"</emu-val></td>  </tr>  <tr>    <td>Symbol</td>    <td><emu-val>"symbol"</emu-val></td>  </tr>  <tr>    <td>BigInt</td>    <td><emu-val>"bigint"</emu-val></td>  </tr>  <tr>    <td>Object (does not implement [[Call]])</td>    <td><emu-val>"object"</emu-val></td>  </tr>  <tr>    <td>Object (implements [[Call]])</td>    <td><emu-val>"function"</emu-val></td>  </tr></tbody></table><h3 id="è¾¨åˆ«ä¸åŒçš„å¯¹è±¡ç±»å‹"><a href="#è¾¨åˆ«ä¸åŒçš„å¯¹è±¡ç±»å‹" class="headerlink" title="è¾¨åˆ«ä¸åŒçš„å¯¹è±¡ç±»å‹"></a>è¾¨åˆ«ä¸åŒçš„å¯¹è±¡ç±»å‹</h3><p>æˆ‘ä»¬æ ¹æ® typeof è¿ç®—ç¬¦å¯ä»¥è¯†åˆ«åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ object å¯¹è±¡æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ Arrayã€Dateã€Numberã€Mapã€Setç­‰ç­‰ã€‚å¦‚ä½•è¯†åˆ«è¿™äº›å¯¹è±¡ç±»å‹é  typeof å·²ç»æ— æ³•æ»¡è¶³è¦æ±‚ï¼ŒåŸºç¡€æ‰å®çš„åŒå­¦è¿˜èƒ½æƒ³åˆ° instanceof æ¥åˆ¤æ–­å¯¹è±¡å®ä¾‹æ˜¯ä¸æ˜¯å±äºæŸä¸ªç±»(å¯¹è±¡)ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="title class_">Map</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">Array</span>  <span class="comment">// true</span></span><br><span class="line">b <span class="keyword">instanceof</span> <span class="title class_">Map</span>    <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•å¯ä»¥å¯¹æŸä¸ªç±»å‹åšå…·ä½“çš„åˆ¤æ–­æ›´ä¸ºåˆé€‚ï¼Œæ¯”å¦‚åˆ¤æ–­æŸä¸ªå˜é‡æ˜¯ä¸æ˜¯æ•°ç»„ã€‚ä¸ç„¶ï¼Œæ¯æ¬¡å°†ä¸æ–­æšä¸¾æ‰€æœ‰ç±»å‹æ‰§è¡Œæ•ˆç‡éå¸¸ä½ã€‚</p><p>å–„äºå­¦ä¹ çš„åŒå­¦ä»¬è‚¯å®šå‘ç°äº†å¯ä»¥é€šè¿‡ object.toString() æ¥åˆ¤æ–­ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">toString</span>())     <span class="comment">// [object Object]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">toString</span>())    <span class="comment">// [object Math]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">toString</span>())    <span class="comment">// [object JSON]</span></span><br></pre></td></tr></table></figure><p>toString æ–¹æ³•éƒ½æ˜¯é›†æˆ Object å¯¹è±¡è€Œæ¥ï¼Œä¸è¿‡æœ‰çš„å¯¹è±¡å·²ç»å°†è¯¥æ–¹æ³•é‡å†™ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Map</span>.<span class="title function_">toString</span>())     <span class="comment">// function Map() &#123; [native code] &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Date</span>.<span class="title function_">toString</span>())    <span class="comment">// function Date() &#123; [native code] &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Symbol</span>.<span class="title function_">toString</span>())  <span class="comment">// function Symbol() &#123; [native code] &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">toString</span>())   <span class="comment">// function Array() &#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ Object.toString æ–¹æ³•æ¥å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>([])                 <span class="comment">// [object Array]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="number">1</span>)                  <span class="comment">// [object Number]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="string">&#x27;abc&#x27;</span>)              <span class="comment">// [object String]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">true</span>)               <span class="comment">// [object Boolean]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">undefined</span>)          <span class="comment">// [object Undefined]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="title class_">Symbol</span>(<span class="number">2</span>))          <span class="comment">// [object Symbol]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(&#123;&#125;)                 <span class="comment">// [object Object]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Date</span>)           <span class="comment">// [object Date]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;)       <span class="comment">// [object Function]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Set</span>)            <span class="comment">// [object Set]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Map</span>)            <span class="comment">// [object Map]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;\s&#x27;</span>))   <span class="comment">// [object RegExp]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="title class_">Math</span>)               <span class="comment">// [object Math]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">function</span>*()&#123;&#125;)      <span class="comment">// [object GeneratorFunction]</span></span><br></pre></td></tr></table></figure><p>è¿™äº›ä»£ç ç¨å¾®æ”¹é€ å°±å¯ä»¥ç›´æ¥å¾—åˆ°å…·ä½“çš„å¯¹è±¡ç±»å‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>([]).<span class="title function_">match</span>(<span class="regexp">/(?!\s)\S+(?=])/</span>)[<span class="number">0</span>] <span class="comment">// Array</span></span><br></pre></td></tr></table></figure><p>æœ‰åŒå­¦æ¯”è¾ƒå¥½å¥‡ <var>Object.toString</var> ä¸ºä½•å¦‚æ­¤ç¥é€šå¹¿å¤§ï¼Œé‡Œé¢åˆ°åº•æœ‰ä»€ä¹ˆæ‘©æ–¯å¯†ç  :question:</p><p>æƒ³å¼„æ¸…æ¥šè¿™ä¸ªé—®é¢˜å°±è¦äº†è§£ <var><a href="https://tc39.es/ecma262/#sec-tostring">Symbol.toStringTag</a></var></p><h3 id="æ•°æ®ç±»å‹å¸¸è§çš„è€ƒæŸ¥æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#æ•°æ®ç±»å‹å¸¸è§çš„è€ƒæŸ¥æ–¹å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="æ•°æ®ç±»å‹å¸¸è§çš„è€ƒæŸ¥æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"></a>æ•°æ®ç±»å‹å¸¸è§çš„è€ƒæŸ¥æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h3><ol><li> é¢˜ç›®1</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;       <span class="comment">// object || function âœ”ï¸</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="title class_">Function</span>       <span class="comment">// object âœ”ï¸ || function</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="title class_">Array</span>          <span class="comment">// object âœ”ï¸ || array || function</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;&#125;         <span class="comment">// object || function âœ”ï¸</span></span><br></pre></td></tr></table></figure><ol start="2"><li> é¢˜ç›®2</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="title class_">NaN</span>              <span class="comment">// undefined || null || number âœ”ï¸</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Infinity</span>         <span class="comment">// undefined || null || number âœ”ï¸</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="title class_">Number</span>()     <span class="comment">// number || object âœ”ï¸</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Number</span>()         <span class="comment">// number âœ”ï¸ || object</span></span><br></pre></td></tr></table></figure><ol start="3"><li> é¢˜ç›®3</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> (<span class="keyword">typeof</span> <span class="number">1</span>)  <span class="comment">// undefined || string âœ”ï¸</span></span><br></pre></td></tr></table></figure><ol start="4"><li> é¢˜ç›®4</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> (<span class="keyword">typeof</span> <span class="number">1</span>)  <span class="comment">// undefined || string</span></span><br></pre></td></tr></table></figure><h3 id="å¦‚ä½•æ·±å…¥ç†è§£æ•°æ®ç±»å‹è½¬æ¢ï¼Ÿ"><a href="#å¦‚ä½•æ·±å…¥ç†è§£æ•°æ®ç±»å‹è½¬æ¢ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ·±å…¥ç†è§£æ•°æ®ç±»å‹è½¬æ¢ï¼Ÿ"></a>å¦‚ä½•æ·±å…¥ç†è§£æ•°æ®ç±»å‹è½¬æ¢ï¼Ÿ</h3><ol><li> åˆè¯† Symbol.toStringTag</li><li> ç†è§£ Object.prototype.toString</li><li> ç†è§£ [Instance].prototype.toString</li></ol><ul><li>  <a href="https://zhuanlan.zhihu.com/p/118793721">https://zhuanlan.zhihu.com/p/118793721</a></li><li>  <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> åŸºç¡€çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
